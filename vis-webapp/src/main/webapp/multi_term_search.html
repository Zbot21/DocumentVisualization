<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Multi Term Search Test</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script src="js/searchUtils.js"></script>
    <link rel="stylesheet" type="text/css" href="text_search.css"/>
    <script>
        google.load("visualization", "1", {packages:["corechart"]});
        function search(){
            document.getElementById("results").innerHTML = "";
            $.getJSON("multi_term_search?" +
             "query1="+document.getElementById("query1").value+"&"+
             "query2="+document.getElementById("query2").value+"&"+
             "query3="+document.getElementById("query3").value,
            function(data){
                console.log(data);
                data.forEach(function(obj) {
                    var result = document.createElement("div");
                    result.className = "result";
                    document.getElementById("results").appendChild(result);
                    var metadataDiv = document.createElement("div");
                    metadataDiv.className = "metadata";
                    result.appendChild(metadataDiv);
                    appendMetadata(metadataDiv, obj.docId);

                    var chartdiv = document.createElement("div");
                    chartdiv.id = "chart"+obj.docId;
                    result.appendChild(chartdiv);

                    var data = new google.visualization.DataTable();
                    data.addColumn('string', 'Term');
                    data.addColumn('number', 'Score');
                    data.addRows([
                            [obj.results[0].query, obj.results[0].score],
                            [obj.results[1].query, obj.results[1].score],
                            [obj.results[2].query, obj.results[2].score]
                    ]);

                    var options = {'width': 400, 'height': 250};

                    var chart = new google.visualization.PieChart(document.getElementById(chartdiv.id));
                    chart.draw(data, options);

                })
            });
        }
    </script>
</head>
<body>
<input id="query1" type="search" />Query 1
<input id="query2" type="search" />Query 2
<input id="query3" type="search" />Query 3<br>
<button onclick="search()">Search</button><br>
<div id="results"></div>
<div id="sidebar" class="side-box-float" style="display: none;"></div>
</body>
</html>